<odoo>
  <data>

    <record id="sale_payment_sale_view_form" model="ir.ui.view">
        <field name="name">Advance Payment Sale</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//button[@name='action_quotation_send']" position="before">
                <field name="add_payment" invisible="1"/>
                <button name="%(account.action_account_invoice_payment)d" string="Advance Payment"
                    type="action" class="btn-primary"
                    attrs="{'invisible': [('add_payment', '=', False)]}" context="{'default_sale_id': id,' default_partner_id': partner_id}" groups="ach_payment_sale.payment_sale"/>
            </xpath>
            <xpath expr="//button[@name='action_view_invoice']" position="before">
              <button name="action_view_payments"
                  type="object"
                  class="oe_stat_button"
                  icon="fa-dollar"
                  attrs="{'invisible': [('payment_count', '=', 0)]}">
                  <field name="payment_count" widget="statinfo" string="Advance Payments"/>
              </button>
            </xpath>
        </field>
    </record>

  </data>
</odoo>